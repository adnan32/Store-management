{% extends "base.html" %}
{% block title %}Invoice {{ object.number }}{% endblock %}

{% block content %}
  <!-- â”€â”€ Action buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div style="margin-bottom:1rem;">
    <a href="{% url 'invoice-list' %}" class="button">â† Back to list</a>
    <a href="{% url 'invoice-edit' object.pk %}" class="button" style="margin-left:.5rem;">âœï¸ Edit</a>
    <a href="{% url 'invoice-delete' object.pk %}" class="button" style="margin-left:.5rem;">ğŸ—‘ Delete</a>
    <a href="{% url 'invoice-pdf' object.pk %}" class="button" style="margin-left:.5rem;">â‡© PDF</a>
  </div>

  <!-- â”€â”€ Sendâ€‘invoice form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  {% if object.customer.email %}
    <form method="post" action="{% url 'invoice-send' object.pk %}" style="display:inline-block; margin-bottom:1.5rem;">
      {% csrf_token %}
      <button type="submit" class="button primary">âœ‰ï¸ Send to {{ object.customer.email }}</button>
    </form>
  {% endif %}

  <!-- â”€â”€ Paid / unpaid badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  {% if object.paid %}
    <p><strong>Status:</strong> <span style="color:green;">Paid</span></p>
  {% else %}
    <p><strong>Status:</strong> <span style="color:#d33;">Unpaid</span></p>
  {% endif %}

  <!-- â”€â”€ Embedded printable invoice markup â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  {% include "invoices/pdf.html" with embedded=True %}
{% endblock %}
