{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "Invoice" %} {{ object.number }}{% endblock %}

{% block content %}
  <!-- â”€â”€ Action buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div style="margin-bottom:1rem;">
    <a href="{% url 'invoice-list' %}" class="button">â† {% trans "Back to list" %}</a>
    <a href="{% url 'invoice-edit' object.pk %}" class="button" style="margin-left:.5rem;">âœï¸ {% trans "Edit" %}</a>
    <a href="{% url 'invoice-delete' object.pk %}" class="button" style="margin-left:.5rem;">ğŸ—‘ {% trans "Delete" %}</a>
    <a href="{% url 'invoice-pdf' object.pk %}" class="button" style="margin-left:.5rem;">â‡© {% trans "PDF" %}</a>
  </div>

  <!-- â”€â”€ Send-invoice form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  {% if object.customer.email %}
    <form method="post" action="{% url 'invoice-send' object.pk %}" style="display:inline-block; margin-bottom:1.5rem;">
      {% csrf_token %}
      <button type="submit" class="button primary">âœ‰ï¸ {% trans "Send to" %} {{ object.customer.email }}</button>
    </form>
  {% endif %}

  <!-- â”€â”€ Paid / unpaid badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  {% if object.paid %}
    <p><strong>{% trans "Status:" %}</strong> <span style="color:green;">{% trans "Paid" %}</span></p>
  {% else %}
    <p><strong>{% trans "Status:" %}</strong> <span style="color:#d33;">{% trans "Unpaid" %}</span></p>
  {% endif %}

  <!-- â”€â”€ Embedded printable invoice markup â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  {% include "invoices/pdf.html" with embedded=True %}
{% endblock %}
