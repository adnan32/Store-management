<!DOCTYPE html>
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% get_current_language_bidi as LANGUAGE_BIDI %}
<html lang="{{ LANGUAGE_CODE }}" dir="{% if LANGUAGE_BIDI %}rtl{% else %}ltr{% endif %}">
<head>
    <meta charset="utf-8">
    <title>{% block title %}{% trans "Invoice System" %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.css">
</head>
<body>
<header>
  <h1><a href="/">{% trans "Invoice System" %}</a></h1>
  <nav>
    <a href="{% url 'customer-dashboard' %}" class="button">ðŸ‘¥ {% trans "Customers" %}</a>
    <a href="{% url 'product-dashboard' %}" class="button" style="margin-left:.5rem;">ðŸ“¦ {% trans "Products" %}</a>
    <a href="{% url 'invoice-dashboard' %}" class="button">ðŸ§¾ {% trans "Invoices" %}</a>
    <a href="{% url 'logout' %}" class="button" style="margin-left:.5rem;">ðŸšª {% trans "Log out" %}</a>

    <!-- Language switcher -->
    <form action="{% url 'set_language' %}" method="post" style="display:inline-block; margin-left:.5rem;">
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ request.get_full_path }}">
      <select name="language" onchange="this.form.submit()">
        {% get_available_languages as LANGUAGES %}
        {% for lang in LANGUAGES %}
          <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>{{ lang.1 }}</option>
        {% endfor %}
      </select>
      <noscript><button type="submit">{% trans "Change" %}</button></noscript>
    </form>
  </nav>
</header>

<main>
  {% block content %}{% endblock %}
</main>
</body>
</html>
